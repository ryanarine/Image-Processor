(window.webpackJsonpimage=window.webpackJsonpimage||[]).push([[0],{10:function(e,t,a){e.exports=a(17)},15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),l=a.n(c),i=a(2),o=a(3),u=a(5),g=a(4),h=a(1),m=a(6),s=(a(15),a(9)),d=(a(16),{display:"block",margin:"10px auto"}),p=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(g.a)(t).call(this))).state={fcr:255,fcg:255,fcb:255,fca:255,rcr:255,rcg:255,rcb:255,rca:255,tcr:10,tcg:10,tcb:10,tca:10},e.onChange=e.onChange.bind(Object(h.a)(e)),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"onChange",value:function(e){var t=Number(e.target.value);if(!isNaN(t)&&t>=0&&t<=255){var a=Object(s.a)({},e.target.name,t);this.setState(a)}}},{key:"render",value:function(){var e=this;return r.a.createElement("form",{onSubmit:function(t){return e.props.submit(e.state,t)}},r.a.createElement("div",{className:"replaceGrid"},r.a.createElement("label",null),r.a.createElement("label",null,"Find"),r.a.createElement("label",null,"Replace"),r.a.createElement("label",null,"Tolerance"),r.a.createElement("label",null,"Red:"),r.a.createElement("input",{type:"text",value:this.state.fcr,onChange:function(t){return e.onChange(t)},name:"fcr"}),r.a.createElement("input",{type:"text",value:this.state.rcr,onChange:function(t){return e.onChange(t)},name:"rcr"}),r.a.createElement("input",{type:"text",value:this.state.tcr,onChange:function(t){return e.onChange(t)},name:"tcr"}),r.a.createElement("label",null,"Green:"),r.a.createElement("input",{type:"text",value:this.state.fcg,onChange:function(t){return e.onChange(t)},name:"fcg"}),r.a.createElement("input",{type:"text",value:this.state.rcg,onChange:function(t){return e.onChange(t)},name:"rcg"}),r.a.createElement("input",{type:"text",value:this.state.tcg,onChange:function(t){return e.onChange(t)},name:"tcg"}),r.a.createElement("label",null,"Blue:"),r.a.createElement("input",{type:"text",value:this.state.fcb,onChange:function(t){return e.onChange(t)},name:"fcb"}),r.a.createElement("input",{type:"text",value:this.state.rcb,onChange:function(t){return e.onChange(t)},name:"rcb"}),r.a.createElement("input",{type:"text",value:this.state.tcb,onChange:function(t){return e.onChange(t)},name:"tcb"}),r.a.createElement("label",null,"Alpha:"),r.a.createElement("input",{type:"text",value:this.state.fca,onChange:function(t){return e.onChange(t)},name:"fca"}),r.a.createElement("input",{type:"text",value:this.state.rca,onChange:function(t){return e.onChange(t)},name:"rca"}),r.a.createElement("input",{type:"text",value:this.state.tca,onChange:function(t){return e.onChange(t)},name:"tca"})),r.a.createElement("button",{style:d,type:"submit"},"Replace Colour"))}}]),t}(n.Component);var f=function(e){return r.a.createElement("div",null,r.a.createElement(p,{submit:function(t,a){return function(e,t,a,n){n.preventDefault(),e(t,[a.fcr,a.fcg,a.fcb,a.fca],[a.rcr,a.rcg,a.rcb,a.rca],[a.tcr,a.tcg,a.tcb,a.tca])}(e.replace,e.file,t,a)}}))},v=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(g.a)(t).call(this))).state={img:null,imgData:null},e.imageChange=e.imageChange.bind(Object(h.a)(e)),e.download=e.download.bind(Object(h.a)(e)),e.loadImage=e.loadImage.bind(Object(h.a)(e)),e.changeImgData=e.changeImgData.bind(Object(h.a)(e)),e.replace=e.replace.bind(Object(h.a)(e)),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"imageChange",value:function(e){var t=this,a=e.target.files[0];if(a){var n=new Image,r=new FileReader;r.onload=function(e){n.onload=function(e){var a=document.createElement("canvas"),n=e.target,r=n.width,c=n.height;a.width=r,a.height=c,a.getContext("2d").drawImage(n,0,0,r,c);var l=a.getContext("2d").getImageData(0,0,r,c);t.setState({img:n,imgData:l},t.loadImage)};var a=e.target.result;a.startsWith("data:image")?n.src=a:alert("That file type is not supported")},r.readAsDataURL(a)}e.target.value=""}},{key:"loadImage",value:function(){var e=document.getElementById("canvas");e.width=e.scrollWidth,e.height=e.scrollHeight;var t=e.getContext("2d"),a=document.getElementById("newCanvas");a.width=a.scrollWidth,a.height=a.scrollHeight;var n=a.getContext("2d");t.drawImage(this.state.img,0,0,this.state.imgData.width,this.state.imgData.height),n.drawImage(this.state.img,0,0,this.state.imgData.width,this.state.imgData.height)}},{key:"changeImgData",value:function(e,t,a,n){for(var r=!1,c=e.data,l=0;l<c.length;l+=4){r=!0;for(var i=0;i<4;i++)r=r&&Math.abs(c[l+i]-t[i])<=n[i];if(r)for(var o=0;o<4;o++)c[l+o]=a[o]}}},{key:"replace",value:function(e,t,a,n){e&&(this.changeImgData(e,t,a,n),document.getElementById("newCanvas").getContext("2d").putImageData(e,0,0))}},{key:"download",value:function(){var e=document.getElementById("download");if(this.state.img){var t=document.createElement("canvas");t.width=this.state.imgData.width,t.height=this.state.imgData.height,t.getContext("2d").putImageData(this.state.imgData,0,0),e.setAttribute("href",t.toDataURL()),e.click()}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"grid"},r.a.createElement("label",null,"Old Preview"),r.a.createElement("label",null,"New Preview"),r.a.createElement("div",{className:"transparent",style:{width:"400px",height:"400px"}},r.a.createElement("canvas",{id:"canvas",style:{width:"400px",height:"400px"}})),r.a.createElement("div",{className:"transparent",style:{width:"400px",height:"400px"}},r.a.createElement("canvas",{id:"newCanvas",style:{width:"400px",height:"400px"}})),r.a.createElement("input",{id:"upload",type:"file",onChange:this.imageChange,hidden:!0}),r.a.createElement("button",{onClick:function(){return document.getElementById("upload").click()}},"Upload Image"),r.a.createElement("button",{onClick:this.download},"Download")),r.a.createElement("a",{id:"download",href:"#",style:{display:"none"},download:"converted"}),r.a.createElement(f,{replace:this.replace,file:this.state.imgData}))}}]),t}(n.Component);l.a.render(r.a.createElement(v,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.bc82609a.chunk.js.map