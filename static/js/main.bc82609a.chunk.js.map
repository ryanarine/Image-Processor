{"version":3,"sources":["Replace.js","Tools.js","App.js","index.js"],"names":["btnStyle","display","margin","Replace","state","fcr","fcg","fcb","fca","rcr","rcg","rcb","rca","tcr","tcg","tcb","tca","onChange","bind","event","value","Number","target","isNaN","name","this","setState","onSubmit","e","props","submit","className","type","style","Component","Tools","replace","file","input","preventDefault","replaceColour","App","img","imgData","imageChange","download","loadImage","changeImgData","files","Image","reader","FileReader","onload","read","imgEvent","canvas","document","createElement","width","height","getContext","drawImage","getImageData","filedata","result","startsWith","src","alert","readAsDataURL","getElementById","scrollWidth","scrollHeight","ctx","canvas2","ctx2","oldVal","newVal","tolerance","equal","data","i","length","offset","Math","abs","putImageData","link","setAttribute","toDataURL","click","id","hidden","onClick","href","ReactDOM","render"],"mappings":"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","file":"static/js/main.bc82609a.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./Replace.css\";\r\n\r\nconst btnStyle = {\r\n  display: \"block\",\r\n  margin: \"10px auto\"\r\n};\r\n\r\nclass Replace extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      fcr: 255,\r\n      fcg: 255,\r\n      fcb: 255,\r\n      fca: 255,\r\n      rcr: 255,\r\n      rcg: 255,\r\n      rcb: 255,\r\n      rca: 255,\r\n      tcr: 10,\r\n      tcg: 10,\r\n      tcb: 10,\r\n      tca: 10\r\n    };\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n\r\n  onChange(event) {\r\n    let value = Number(event.target.value);\r\n    if (!isNaN(value) && value >= 0 && value <= 255) {\r\n      let state = { [event.target.name]: value };\r\n      this.setState(state);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form onSubmit={e => this.props.submit(this.state, e)}>\r\n        <div className=\"replaceGrid\">\r\n          <label></label>\r\n          <label>Find</label>\r\n          <label>Replace</label>\r\n          <label>Tolerance</label>\r\n          <label>Red:</label>\r\n          <input type=\"text\" value={this.state.fcr} onChange={e => this.onChange(e)} name=\"fcr\" />\r\n          <input type=\"text\" value={this.state.rcr} onChange={e => this.onChange(e)} name=\"rcr\" />\r\n          <input type=\"text\" value={this.state.tcr} onChange={e => this.onChange(e)} name=\"tcr\" />\r\n          <label>Green:</label>\r\n          <input type=\"text\" value={this.state.fcg} onChange={e => this.onChange(e)} name=\"fcg\" />\r\n          <input type=\"text\" value={this.state.rcg} onChange={e => this.onChange(e)} name=\"rcg\" />\r\n          <input type=\"text\" value={this.state.tcg} onChange={e => this.onChange(e)} name=\"tcg\" />\r\n          <label>Blue:</label>\r\n          <input type=\"text\" value={this.state.fcb} onChange={e => this.onChange(e)} name=\"fcb\" />\r\n          <input type=\"text\" value={this.state.rcb} onChange={e => this.onChange(e)} name=\"rcb\" />\r\n          <input type=\"text\" value={this.state.tcb} onChange={e => this.onChange(e)} name=\"tcb\" />\r\n          <label>Alpha:</label>\r\n          <input type=\"text\" value={this.state.fca} onChange={e => this.onChange(e)} name=\"fca\" />\r\n          <input type=\"text\" value={this.state.rca} onChange={e => this.onChange(e)} name=\"rca\" />\r\n          <input type=\"text\" value={this.state.tca} onChange={e => this.onChange(e)} name=\"tca\" />\r\n        </div>\r\n        <button style={btnStyle} type=\"submit\">\r\n          Replace Colour\r\n        </button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Replace;\r\n","import React from \"react\";\r\nimport Replace from \"./Replace\";\r\n\r\nfunction replaceColour(replace, file, input, event) {\r\n  event.preventDefault();\r\n  let oldVal = [input.fcr, input.fcg, input.fcb, input.fca];\r\n  let newVal = [input.rcr, input.rcg, input.rcb, input.rca];\r\n  let tolerance = [input.tcr, input.tcg, input.tcb, input.tca];\r\n  replace(file, oldVal, newVal, tolerance);\r\n}\r\n\r\nfunction Tools(props) {\r\n  return (\r\n    <div>\r\n      <Replace submit={(state, event) => replaceColour(props.replace, props.file, state, event)} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Tools;\r\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Tools from \"./Tools\";\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = { img: null, imgData: null };\n    this.imageChange = this.imageChange.bind(this);\n    this.download = this.download.bind(this);\n    this.loadImage = this.loadImage.bind(this);\n    this.changeImgData = this.changeImgData.bind(this);\n    this.replace = this.replace.bind(this);\n  }\n\n  imageChange(event) {\n    const file = event.target.files[0];\n    if (file) {\n      let img = new Image();\n      const reader = new FileReader();\n      reader.onload = read => {\n        img.onload = imgEvent => {\n          var canvas = document.createElement(\"canvas\");\n          let img = imgEvent.target;\n          let width = img.width;\n          let height = img.height;\n          canvas.width = width;\n          canvas.height = height;\n          canvas.getContext(\"2d\").drawImage(img, 0, 0, width, height);\n          let imgData = canvas.getContext(\"2d\").getImageData(0, 0, width, height);\n          this.setState({ img, imgData }, this.loadImage);\n        };\n        let filedata = read.target.result;\n        if (filedata.startsWith(\"data:image\")) {\n          img.src = filedata;\n        } else {\n          alert(\"That file type is not supported\");\n        }\n      };\n      reader.readAsDataURL(file);\n    }\n    event.target.value = \"\";\n  }\n\n  loadImage() {\n    const canvas = document.getElementById(\"canvas\");\n    canvas.width = canvas.scrollWidth;\n    canvas.height = canvas.scrollHeight;\n    const ctx = canvas.getContext(\"2d\");\n    const canvas2 = document.getElementById(\"newCanvas\");\n    canvas2.width = canvas2.scrollWidth;\n    canvas2.height = canvas2.scrollHeight;\n    const ctx2 = canvas2.getContext(\"2d\");\n    ctx.drawImage(this.state.img, 0, 0, this.state.imgData.width, this.state.imgData.height);\n    ctx2.drawImage(this.state.img, 0, 0, this.state.imgData.width, this.state.imgData.height);\n  }\n\n  changeImgData(file, oldVal, newVal, tolerance) {\n    let equal = false;\n    let imgData = file.data;\n    for (let i = 0; i < imgData.length; i += 4) {\n      equal = true;\n      for (let offset = 0; offset < 4; offset++) {\n        equal = equal && Math.abs(imgData[i + offset] - oldVal[offset]) <= tolerance[offset];\n      }\n      if (equal) {\n        for (let offset = 0; offset < 4; offset++) {\n          imgData[i + offset] = newVal[offset];\n        }\n      }\n    }\n  }\n\n  replace(file, oldVal, newVal, tolerance) {\n    if (file) {\n      this.changeImgData(file, oldVal, newVal, tolerance);\n      var canvas2 = document.getElementById(\"newCanvas\").getContext(\"2d\");\n      canvas2.putImageData(file, 0, 0);\n    }\n  }\n\n  download() {\n    const link = document.getElementById(\"download\");\n    if (this.state.img) {\n      var canvas = document.createElement(\"canvas\");\n      canvas.width = this.state.imgData.width;\n      canvas.height = this.state.imgData.height;\n      var ctx = canvas.getContext(\"2d\");\n      ctx.putImageData(this.state.imgData, 0, 0);\n      link.setAttribute(\"href\", canvas.toDataURL());\n      link.click();\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"grid\">\n          <label>Old Preview</label>\n          <label>New Preview</label>\n          <div className=\"transparent\" style={{ width: \"400px\", height: \"400px\" }}>\n            <canvas id=\"canvas\" style={{ width: \"400px\", height: \"400px\" }}></canvas>\n          </div>\n          <div className=\"transparent\" style={{ width: \"400px\", height: \"400px\" }}>\n            <canvas id=\"newCanvas\" style={{ width: \"400px\", height: \"400px\" }}></canvas>\n          </div>\n          <input id=\"upload\" type=\"file\" onChange={this.imageChange} hidden />\n          <button onClick={() => document.getElementById(\"upload\").click()}>Upload Image</button>\n          <button onClick={this.download}>Download</button>\n        </div>\n        <a id=\"download\" href=\"#\" style={{ display: \"none\" }} download=\"converted\"></a>\n        <Tools replace={this.replace} file={this.state.imgData} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}